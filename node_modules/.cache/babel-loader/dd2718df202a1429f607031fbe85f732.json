{"ast":null,"code":"var _jsxFileName = \"/home/ash/Documents/RATHOLE/src/components/Gallery/Gallery.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { IMAGES_DATA, DEBOUNCE_DELAY } from \"./constants\";\nimport { generateValidPosition, parsePercentage, resetImageIncrement, debounce } from \"./utils\";\n\n// TODO:\n// update gallery\n// extend hero image + darken it\n// fix transition to about page\n\nconst Gallery = () => {\n  const [images, setImages] = useState([]);\n  const [containerHeight, setContainerHeight] = useState(0);\n  const [isLargeScreen, setIsLargeScreen] = useState(window.innerWidth >= 1024);\n  const [selectedImage, setSelectedImage] = useState(null);\n  useEffect(() => {\n    const handleResizeLayoutCalculation = debounce(() => {\n      if (window.innerWidth >= 1024) {\n        triggerLayoutRecalculation();\n      }\n    }, DEBOUNCE_DELAY);\n    const handleResizeLargeScreen = () => {\n      setIsLargeScreen(window.innerWidth >= 1024);\n    };\n    window.addEventListener(\"resize\", handleResizeLayoutCalculation);\n    window.addEventListener(\"resize\", handleResizeLargeScreen);\n\n    // Initial trigger if the window width is already above 1024px\n    if (window.innerWidth >= 1024) {\n      triggerLayoutRecalculation();\n    }\n\n    // Cleanup the event listener when the component is unmounted\n    return () => {\n      window.removeEventListener(\"resize\", handleResizeLayoutCalculation);\n      window.removeEventListener(\"resize\", handleResizeLargeScreen);\n    };\n  }, []);\n  const triggerLayoutRecalculation = () => {\n    let maxBottom = 0;\n    resetImageIncrement();\n    const containerWidth = window.innerWidth;\n    const positionedImages = [];\n    for (const image of IMAGES_DATA) {\n      const newImageStyles = generateValidPosition(positionedImages, containerWidth);\n      positionedImages.push({\n        ...image,\n        ...newImageStyles\n      });\n      const imageBottom = parseInt(newImageStyles.top) + parsePercentage(newImageStyles.width, containerWidth);\n      if (imageBottom > maxBottom) {\n        maxBottom = imageBottom;\n      }\n    }\n    setImages(positionedImages);\n    const extraHeight = 400;\n    setContainerHeight(maxBottom + extraHeight);\n  };\n  const closeModal = () => setSelectedImage(null);\n  return /*#__PURE__*/React.createElement(\"section\", {\n    id: \"work\",\n    className: \"relative py-20 px-6\",\n    style: isLargeScreen ? {\n      height: `${containerHeight}px`\n    } : {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative w-full h-full lg:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid grid-cols-2 gap-4 lg:hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, IMAGES_DATA.map((image, index) => /*#__PURE__*/React.createElement(\"img\", {\n    key: index,\n    src: `${process.env.PUBLIC_URL}/${image.src}`,\n    alt: image.alt,\n    className: \"object-cover w-full h-auto border border-black rounded-lg shadow-md cursor-pointer\",\n    onClick: () => setSelectedImage(image) // Set selected image when clicked\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hidden lg:block relative w-full h-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, images.map((image, index) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hover:blur cursor-pointer\",\n    style: {\n      position: \"absolute\",\n      top: image.top,\n      left: image.left,\n      width: image.width\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    key: index,\n    src: `${process.env.PUBLIC_URL}/${image.src}`,\n    alt: image.alt,\n    className: \"object-cover border border-black shadow-lg rounded-md\",\n    onClick: () => setSelectedImage(image) // Set selected image when clicked\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"-translate-y-7 translate-x-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }, image.about))))), selectedImage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50\",\n    onClick: closeModal // Close modal when clicking on the overlay\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `${process.env.PUBLIC_URL}/${selectedImage.src}`,\n    alt: selectedImage.alt,\n    style: {\n      maxWidth: \"66vw\",\n      // Max width to two-thirds of the viewport width\n      maxHeight: \"66vh\",\n      // Max height to two-thirds of the viewport height\n      width: \"auto\",\n      // Maintain aspect ratio\n      height: \"auto\" // Maintain aspect ratio\n    },\n    className: \"rounded-lg shadow-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: closeModal,\n    className: \"absolute top-2 right-2 text-white bg-black rounded-full px-2 py-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, \"X\"))));\n};\nexport default Gallery;","map":{"version":3,"names":["React","useEffect","useState","IMAGES_DATA","DEBOUNCE_DELAY","generateValidPosition","parsePercentage","resetImageIncrement","debounce","Gallery","images","setImages","containerHeight","setContainerHeight","isLargeScreen","setIsLargeScreen","window","innerWidth","selectedImage","setSelectedImage","handleResizeLayoutCalculation","triggerLayoutRecalculation","handleResizeLargeScreen","addEventListener","removeEventListener","maxBottom","containerWidth","positionedImages","image","newImageStyles","push","imageBottom","parseInt","top","width","extraHeight","closeModal","createElement","id","className","style","height","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","index","key","src","process","env","PUBLIC_URL","alt","onClick","position","left","about","maxWidth","maxHeight"],"sources":["/home/ash/Documents/RATHOLE/src/components/Gallery/Gallery.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { IMAGES_DATA, DEBOUNCE_DELAY } from \"./constants\";\nimport { ImageData, StyledImageData } from \"./interfaces\";\nimport {\n  generateValidPosition,\n  parsePercentage,\n  resetImageIncrement,\n  debounce,\n} from \"./utils\";\n\n// TODO:\n// update gallery\n// extend hero image + darken it\n// fix transition to about page\n\n\nconst Gallery: React.FC = () => {\n  const [images, setImages] = useState<StyledImageData[]>([]);\n  const [containerHeight, setContainerHeight] = useState(0);\n  const [isLargeScreen, setIsLargeScreen] = useState(window.innerWidth >= 1024);\n  const [selectedImage, setSelectedImage] = useState<ImageData | null>(null);\n\n  useEffect(() => {\n    const handleResizeLayoutCalculation = debounce(() => {\n      if (window.innerWidth >= 1024) {\n        triggerLayoutRecalculation();\n      }\n    }, DEBOUNCE_DELAY);\n\n    const handleResizeLargeScreen = () => {\n      setIsLargeScreen(window.innerWidth >= 1024);\n    };\n\n    window.addEventListener(\"resize\", handleResizeLayoutCalculation);\n    window.addEventListener(\"resize\", handleResizeLargeScreen);\n\n    // Initial trigger if the window width is already above 1024px\n    if (window.innerWidth >= 1024) {\n      triggerLayoutRecalculation();\n    }\n\n    // Cleanup the event listener when the component is unmounted\n    return () => {\n      window.removeEventListener(\"resize\", handleResizeLayoutCalculation);\n      window.removeEventListener(\"resize\", handleResizeLargeScreen);\n    };\n  }, []);\n\n  const triggerLayoutRecalculation = () => {\n    let maxBottom = 0;\n    resetImageIncrement();\n    const containerWidth = window.innerWidth;\n    const positionedImages: StyledImageData[] = [];\n\n    for (const image of IMAGES_DATA) {\n      const newImageStyles = generateValidPosition(\n        positionedImages,\n        containerWidth\n      );\n      positionedImages.push({ ...image, ...newImageStyles });\n\n      const imageBottom =\n        parseInt(newImageStyles.top) +\n        parsePercentage(newImageStyles.width, containerWidth);\n      if (imageBottom > maxBottom) {\n        maxBottom = imageBottom;\n      }\n    }\n\n    setImages(positionedImages);\n\n    const extraHeight = 400;\n    setContainerHeight(maxBottom + extraHeight);\n  };\n\n  const closeModal = () => setSelectedImage(null);\n\n  return (\n    <section\n      id=\"work\"\n      className=\"relative py-20 px-6\"\n      style={isLargeScreen ? { height: `${containerHeight}px` } : {}}\n    >\n      {/* <h2 className=\"text-3xl font-bold text-center mb-8\">work</h2> */}\n      <div className=\"relative w-full h-full lg:block\">\n        {/* Mobile Grid Layout */}\n        <div className=\"grid grid-cols-2 gap-4 lg:hidden\">\n          {IMAGES_DATA.map((image, index) => (\n            <img\n              key={index}\n              src={`${process.env.PUBLIC_URL}/${image.src}`}\n              alt={image.alt}\n              className=\"object-cover w-full h-auto border border-black rounded-lg shadow-md cursor-pointer\"\n              onClick={() => setSelectedImage(image)} // Set selected image when clicked\n            />\n          ))}\n        </div>\n        {/* Desktop Dynamic Layout */}\n        <div className=\"hidden lg:block relative w-full h-full\">\n          {images.map((image, index) => (\n            <div\n            className=\"hover:blur cursor-pointer\"\n              style={{\n                position: \"absolute\",\n                top: image.top,\n                left: image.left,\n                width: image.width,\n              }}\n            >\n              <img\n                key={index}\n                src={`${process.env.PUBLIC_URL}/${image.src}`}\n                alt={image.alt}\n                className=\"object-cover border border-black shadow-lg rounded-md\"\n                onClick={() => setSelectedImage(image)} // Set selected image when clicked\n              />\n              <p className=\"-translate-y-7 translate-x-2\">{image.about}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Modal for Enlarged Image */}\n      {selectedImage && (\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50\"\n          onClick={closeModal} // Close modal when clicking on the overlay\n        >\n          <div className=\"relative\">\n            <img\n              src={`${process.env.PUBLIC_URL}/${selectedImage.src}`}\n              alt={selectedImage.alt}\n              style={{\n                maxWidth: \"66vw\", // Max width to two-thirds of the viewport width\n                maxHeight: \"66vh\", // Max height to two-thirds of the viewport height\n                width: \"auto\", // Maintain aspect ratio\n                height: \"auto\", // Maintain aspect ratio\n              }}\n              className=\"rounded-lg shadow-lg\"\n            />\n            <button\n              onClick={closeModal}\n              className=\"absolute top-2 right-2 text-white bg-black rounded-full px-2 py-1\"\n            >\n              X\n            </button>\n          </div>\n        </div>\n      )}\n    </section>\n  );\n};\n\nexport default Gallery;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}